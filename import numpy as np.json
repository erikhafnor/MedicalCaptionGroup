import numpy as np
from sklearn.metrics import ConfusionMatrixDisplay
from sklearn.preprocessing import LabelEncoder

# test_confusion_matrix.py
import matplotlib.pyplot as plt

# Mock data
y_test = [0, 1, 2, 1, 0]
y_pred = [0, 2, 1, 1, 0]
classes = ["Class A", "Class B", "Class C"]

# Initialize LabelEncoder and fit mock classes
label_encoder = LabelEncoder()
label_encoder.fit(classes)

# Plot the confusion matrix
disp = ConfusionMatrixDisplay.from_predictions(
    y_test, y_pred, display_labels=label_encoder.classes_, cmap=plt.cm.Blues, xticks_rotation='vertical'
)
plt.title("Confusion Matrix")
plt.show()